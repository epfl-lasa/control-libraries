<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Control Libraries: Python Bindings</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Control Libraries
   &#160;<span id="projectnumber">3.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Python Bindings </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This directory defines Python bindings for the control libraries.</p>
<h2>Installation</h2>
<p>You must first install <code>control_libraries</code> before you can install the Python bindings. Refer to the installation instructions in the top-level ../README.md "README" for more information.</p>
<p>Additionally, the installation of the bindings requires the following prerequisites:</p><ul>
<li><code>python3</code> &gt;= 3.0</li>
<li><code>pip3</code> &gt;= 10.0.0</li>
</ul>
<p>The installation itself is then quite straightforward: </p><div class="fragment"><div class="line">git clone https://github.com/epfl-lasa/control_libraries</div><div class="line"></div><div class="line">## install control_libraries (skip this stage if already done)</div><div class="line">bash control_libraries/source/install.sh</div><div class="line"></div><div class="line">## install the bindings using the pip installer</div><div class="line">pip3 install control_libraries/python</div></div><!-- fragment --><p>The example above installs the module to the default dist-packages location. You can see more information about the installed module using <code>pip3 show control-libraries</code>.</p>
<p>The process also works with Python virtual environments. For example, with <code>pipenv</code>: </p><div class="fragment"><div class="line">## pip3 install pipenv</div><div class="line"></div><div class="line">pipenv install control_libraries/python</div></div><!-- fragment --><p>Once installed, you can simply import the module with an optional short alias: </p><div class="fragment"><div class="line">#!/usr/bin/env python</div><div class="line">import state_representation as sr</div><div class="line"></div><div class="line">print(sr.__version__)</div><div class="line"></div><div class="line">A = sr.CartesianState.Random(&quot;A&quot;)</div><div class="line">print(A)</div></div><!-- fragment --><p>Or, directly import specific classes from the module. </p><div class="fragment"><div class="line">#!/usr/bin/env python</div><div class="line">from state_representation import JointState</div><div class="line"></div><div class="line">B = JointState.Random(&quot;B&quot;, 3)</div></div><!-- fragment --><h2>Current status</h2>
<p>The Python binding project is currently under development. Bindings exist for the following libraries and classes:</p>
<ul>
<li><code><a class="el" href="namespacestate__representation.html" title="Core state variables and objects. ">state_representation</a></code>:<ul>
<li><code>State</code></li>
<li><code>SpatialState</code></li>
<li><code>CartesianState</code></li>
<li><code>CartesianPose</code></li>
<li><code>CartesianTwist</code></li>
<li><code>CartesianWrench</code></li>
<li><code>JointState</code></li>
<li><code>JointPositions</code></li>
<li><code>JointVelocities</code></li>
<li><code>JointTorques</code></li>
<li><code>Jacobian</code></li>
</ul>
</li>
</ul>
<h2>About</h2>
<p><a href="https://PyBind11.readthedocs.io/en/stable/index.html">PyBind11</a> is used to generate Python bindings for the classes and functions in control libraries.</p>
<p>The generated package is named <code>control-libraries</code>, but contains specific modules for importing. These are named the same as the standard modules of control libraries (e.g. <code><a class="el" href="namespacestate__representation.html" title="Core state variables and objects. ">state_representation</a></code>).</p>
<p>The contents of the <a href="./source"><code>source</code></a> directory define the bindings between each Python module and the respective C++ library. The source files to bind each module are contained within a subdirectory of the same name.</p>
<p>The <code>setup.py</code> and <code>pyproject.toml</code> files are used to configure the build and installation of the Python bindings. The <code>.toml</code> file allows <code>pip</code> to automatically fetch the installation dependencies (namely <code>setuptools</code> and <code>pybind11</code>) in a temporary cache, allowing the subsequent <code>setup.py</code> to be evaluated without needing a local installation of <code>pybind11</code>. This feature requires a <a href="https://pypi.org/project/pip/"><code>pip</code></a> version 10.0 or newer.</p>
<p>The <a href="./test"><code>test</code></a> directory contains some Python scripts that import and check the bindings using the Python <code>unittest</code> framework. They are not currently comprehensive.</p>
<h2>Dockerfile</h2>
<p>A Dockerfile and run script are provided to test the installation of the bindings.</p>
<p>The docker image installs the core control libraries and subsequently installs the python bindings.</p>
<p>The <a href="./run.sh"><code>run.sh</code></a> script will build the docker image and launch an interactive container with the test files in the <a href="./test"><code>test</code></a> directory copied to the local path.</p>
<p>The run script tries to the clone the current local git branch when installing the control libraries in the Dockerfile. If the local branch does not exist on the remote, or if you want to test the python bindings against a difference control libraries source branch, you can supply a specific branch as the first argument to the run script. For example, <code>./run.sh develop</code> to use the <code>develop</code> branch.</p>
<p>You can run a single test with <code>python &lt;test_name.py&gt;</code>, or just enter a python shell with <code>python</code>. Run all tests with <code>python -m unittest discover &lt;path_to_test_dir&gt;</code>, or just <code>python -m unittest</code> if the <a href="./test"><code>test</code></a> directory in your current working directory. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
